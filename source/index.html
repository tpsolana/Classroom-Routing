<!DOCTYPE html>
<html>
    <head>
        <title>Bradley Classroom Routing</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/index.css">
    </head>

    <body>
        <h1>Bradley Classroom Routing</h1>

        <div class="inputs">
            <form>
                <label for="starting">Starting Point:</label><br>
                <select id="starting" name="starting">
                    <option value="none">None</option>
                    <option value="front">Front</option>
                    <option value="front-left">Front Left</option>
                    <option value="front-right">Front Right</option>
                </select>
                
                <div id="destinations-container">
                    <div class="destination-group" id="destination-group-1">
                        <label for="destination-1" id="label-1">Destination 1:</label><br>
                        <input type="text" id="destination-1" name="destination-1" class="destination-input" placeholder="Enter room number">
                        <button type="button" class="remove-btn" onclick="removeDestination(1)">Ã—</button>
                    </div>
                </div>
                
                <div class="button-group">
                    <button type="button" id="add-destination" onclick="addDestination()">+ Add Destination</button>
                    <button type="button" id="show-route" onclick="displayClassroom()" value="Enter">Show Route</button>
                    <!-- Hide this button since we're replacing it with the toggle -->
                    <button type="button" id="show-bathrooms" onclick="displayBathrooms()" style="display: none;">Show Bathrooms</button>
                    <button type="button" id="reset" onclick="resetRoute()">Reset</button>
                </div>
            </form>
        </div>

        <div class="floorplan" id="building map">
            <span>
                <button type="button" class="arrow-button" onclick="downFloor()"><</button>
                <span id="floor-label">Floor 1</span>
                <button type="button" class="arrow-button" onclick="upFloor()">></button>
            </span>
            <button id="step-mode-switch" style="float: right;" onclick="stepModeSwitch()">Navigate by Steps</button>
            <div class="map-container">
                <img src="images/bradley_hall1.png" id="bradley-floor-map" alt="Bradley Hall First Floor Blueprint">
                <div id="node-container">
                    <!-- This is where the nodes are dynamically added -->
                </div>
            </div>

            <div class="helpButton">
                <button class="helpMe" onclick="helpPopup()">?</button>
                <div id="helpDropdown" class="dropdown-content">
                    <h3>Map Navigation Help</h3>
                    <p>This application helps you navigate Bradley Hall. Select your starting point and destinations, then use the floor controls to move between levels.</p>
                    
                    <div class="toggle-container">
                        <label for="bathroom-toggle">Show Bathrooms:</label>
                        <label class="switch">
                            <input type="checkbox" id="bathroom-toggle">
                            <span class="slider round bathroom"></span>
                        </label>
                        <span class="legend-item female">F</span>
                        <span class="legend-item male">M</span>
                    </div>
                    
                    <div class="toggle-container">
                        <label for="handicap-toggle">Handicap Accessible Routes:</label>
                        <label class="switch">
                            <input type="checkbox" id="handicap-toggle">
                            <span class="slider round handicap"></span>
                        </label>
                    </div>
                    
                    <div class="help-info">
                        <p><strong>Tips:</strong></p>
                        <ul>
                            <li>Use the floor controls to navigate between floors</li>
                            <li>Toggle step mode to navigate by destination</li>
                            <li>Female bathrooms shown in pink</li>
                            <li>Male bathrooms shown in blue</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <script src="javascript/node-display.js"></script>
    </body>
</html>